<div th:fragment="member-borrow-book">
  <div class="container user-detail">
    <button
      hx-get="/book/search"
      hx-target="body"
      hx-swap="outerHTML"
      hx-push-url="/book/search"
      class="bg6-btn"
    >
      ‚Üê Return to Home Page
    </button>

    <div class="header">
      <img class="avatar" src="https://placehold.co/80x80" alt="" />
      <div>
        <h2 th:text="${user.name}" style="padding-top: 15px">Emma Wilson</h2>
        <p>Library <span th:text="${user.role}">MEMBER</span></p>
      </div>
    </div>

    <div class="user-info">
      <div>
        <p>
          <span>Name:</span> <span th:text="${user.name}">Emma Wilson</span>
        </p>
        <p>
          <span>Member Since:</span>
          <span th:text="${user.dateJoined}">March 10, 2022</span>
        </p>
        <p>
          <span>Date of Birth:</span>
          <span th:text="${user.dateOfBirth ?: 'Not Exist'}">Not Exist</span>
        </p>
      </div>
      <div>
        <p>
          <span>Email:</span>
          <span th:text="${user.email}">emma.wilson@example.com</span>
        </p>
        <p><span>Gender:</span> <span th:text="${user.gender}">OTHER</span></p>
        <p>
          <span>Account Status:</span>
          <span class="status-badge" th:text="${user.status}">Active</span>
        </p>
      </div>
    </div>

    <hr style="background-color: white" />

    <div>
      <h3>Borrowed Books</h3>
      <table id="user-detail-table" class="table table-striped align-middle">
        <thead>
          <tr>
            <th style="width: 40%">Title</th>
            <th style="width: 20%">Author</th>
            <th>Borrow Date</th>
            <th>Return Date</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="borrow : ${borrowedBooks}">
            <td th:text="${borrow.title}">The Great Gatsby</td>
            <td th:text="${borrow.author}">F. Scott Fitzgerald</td>
            <td th:text="${borrow.borrowDate}">YEAR-M-DD</td>
            <td th:text="${borrow.returnDate}">YEAR-M-DD</td>
            <td>
              <button
                class="bg6-btn"
                th:if="${#bools.isFalse(borrow.returned)}"
                th:hx-put="${'/book/borrow/return/' + borrow.borrowId}"
                hx-target="closest tr"
                hx-swap="outerHTML"
              >
                > Return
              </button>
              <p style="margin: 10px 0" th:if="${borrow.returned}">Returned</p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="d-flex justify-content-between">
      <button class="bg6-btn">Edit Profile</button>
    </div>
  </div>
</div>
